<h2 matDialogTitle class="dialog__title">
  条件の編集
</h2>
<div mat-dialog-content class="form">
  <form [formGroup]="form">
    <mat-form-field class="form__title">
      <mat-label>条件名</mat-label>
      <input type="text" matInput autocomplete="off" formControlName="title" />
    </mat-form-field>
    <div class="form__detail">
      <div class="form__income">
        <div class="form__item">
          <mat-radio-group
            aria-label=""
            class="form-type__group"
            formControlName="type"
          >
            <mat-radio-button
              class="form-type__btn"
              value="monthly"
              #typeMonthly
              >月給</mat-radio-button
            >
            <mat-radio-button class="form-type__btn" value="hourly" #typeHourly
              >時給</mat-radio-button
            >
          </mat-radio-group>
        </div>
        <ng-container *ngIf="typeMonthly.checked">
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>基本給</mat-label>
              <input
                placeholder="320000"
                type="text"
                matInput
                autocomplete="off"
                formControlName="base"
              />
              <span class="unit" matSuffix>円</span>
            </mat-form-field>
          </div>
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>諸手当（課税分）</mat-label>
              <input
                placeholder="40000"
                type="text"
                matInput
                autocomplete="off"
                formControlName="allowance"
              />
              <span class="unit" matSuffix>円</span>
            </mat-form-field>
          </div>
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>交通費（非課税）</mat-label>
              <input
                placeholder="15000"
                type="text"
                matInput
                autocomplete="off"
                formControlName="travelCost"
              />
              <span class="unit" matSuffix>円</span>
            </mat-form-field>
          </div>
        </ng-container>
        <ng-container *ngIf="typeHourly.checked">
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>時給</mat-label>
              <input
                placeholder="1400"
                type="text"
                matInput
                autocomplete="off"
                formControlName="basePerHour"
              />
              <span class="unit" matSuffix>円</span>
            </mat-form-field>
          </div>
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>1日あたりの交通費</mat-label>
              <input
                placeholder="400"
                type="text"
                matInput
                autocomplete="off"
                formControlName="travelCostPerDay"
              />
              <span class="unit" matSuffix>円</span>
            </mat-form-field>
          </div>
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>1日あたりの就業時間</mat-label>
              <input
                placeholder="5"
                type="text"
                matInput
                autocomplete="off"
                formControlName="hourPerDay"
              />
              <span class="unit" matSuffix>時間</span>
            </mat-form-field>
          </div>
          <div class="form__item">
            <mat-form-field class="form__field">
              <mat-label>1ヶ月あたりの就業日数</mat-label>
              <input
                placeholder="15"
                type="text"
                matInput
                autocomplete="off"
                formControlName="dayPerMonth"
              />
              <span class="unit" matSuffix>日</span>
            </mat-form-field>
          </div>
        </ng-container>
      </div>
      <div class="form__deduction">
        <div class="form__item form-radio">
          <p class="form-radio__title">社会保険</p>
          <mat-radio-group
            aria-label=""
            class="form-radio__group"
            formControlName="ins"
          >
            <mat-radio-button class="form-radio__btn" [value]="true" #insTrue
              >加入</mat-radio-button
            >
            <mat-radio-button class="form-radio__btn" [value]="false"
              >なし</mat-radio-button
            >
          </mat-radio-group>
        </div>
        <div class="form__item form-radio">
          <p class="form-radio__title">雇用保険</p>
          <mat-radio-group
            aria-label=""
            class="form-radio__group"
            formControlName="unemploymentIns"
          >
            <mat-radio-button class="form-radio__btn" [value]="true"
              >加入</mat-radio-button
            >
            <mat-radio-button class="form-radio__btn" [value]="false"
              >なし</mat-radio-button
            >
          </mat-radio-group>
        </div>
        <ng-container *ngIf="insTrue.checked">
          <div class="form__item">
            <mat-form-field appearance="fill" class="form__field">
              <mat-label>就業地</mat-label>
              <mat-select formControlName="area">
                <ng-container *ngIf="rate$ | async as rate">
                  <mat-option
                    *ngFor="let area of rate.socialIns.healthInsRateList"
                    [value]="area.area"
                  >
                    {{ area.area }}
                  </mat-option>
                </ng-container>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="form__item">
            <mat-form-field appearance="fill" class="form__field">
              <mat-label>年齢</mat-label>
              <mat-select formControlName="age">
                <mat-option value="young">〜 39歳</mat-option>
                <mat-option value="middle">40歳 〜 64歳</mat-option>
                <mat-option value="elderly">65歳 〜</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </ng-container>
        <div class="form__item">
          <mat-form-field appearance="fill" class="form__field">
            <mat-label>扶養家族</mat-label>
            <mat-select formControlName="dependents">
              <mat-option [value]="0">なし</mat-option>
              <mat-option
                *ngFor="let dependent of dependents"
                [value]="dependent"
              >
                {{ dependent }}人
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="form__item">
          <mat-form-field class="form__field">
            <mat-label>住民税</mat-label>
            <input
              placeholder="20000"
              type="text"
              matInput
              autocomplete="off"
              formControlName="cityTax"
            />
            <span class="unit" matSuffix>円</span>
          </mat-form-field>
        </div>
        <div class="form__item">
          <mat-form-field class="form__field">
            <mat-label>その他控除</mat-label>
            <input
              type="text"
              matInput
              autocomplete="off"
              formControlName="otherDeduction"
            />
            <span class="unit" matSuffix>円</span>
          </mat-form-field>
        </div>
      </div>
    </div>
  </form>
</div>
<div mat-dialog-actions class="dialog__actions">
  <button mat-flat-button color="primary" (click)="updateCondition()">
    更新
  </button>
  <button mat-stroked-button matDialogClose>
    キャンセル
  </button>
</div>
